"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[430],{430:function(e,n,t){t.r(n),t.d(n,{default:function(){return g}});var r=t(5861),s=t(9439),a=t(7757),i=t.n(a),c=t(2791),o=t(5453),l=t(4420),u=t(1087),d=t(184),h=function(e){var n=e.movies,t=(0,c.useRef)();return(0,c.useEffect)((function(){var e=function(){var e=t.current;e&&e.querySelectorAll("li").forEach((function(e){var n=e.getBoundingClientRect(),t=(n.left+n.width/2-window.innerWidth/2)/window.innerWidth;e.style.transform="\n          rotateY(".concat(40*t,"deg)\n          scale(").concat(1-.3*Math.abs(t),")\n        "),e.style.opacity="".concat(1-.6*Math.abs(t))}))},n=t.current;return n.addEventListener("scroll",e),e(),function(){return n.removeEventListener("scroll",e)}}),[]),(0,d.jsx)("ul",{ref:t,className:"movieList",children:n.map((function(e){return(0,d.jsx)("li",{children:(0,d.jsx)("img",{className:"imgCover",src:o.yA+e.poster_path,alt:e.title||e.name})},e.id)}))})};var f=t.p+"static/media/icons.63b93c709296db99e30ac23ec3213eb5.svg",m=t(6757),v=t(1346),p=t(7689),x=function(e){var n=(0,l.I0)(),t=(0,c.useState)([]),a=(0,s.Z)(t,2),u=a[0],h=a[1],f=(0,c.useState)(null),m=(0,s.Z)(f,2),v=m[0],p=m[1],x=(0,c.useRef)(null);if((0,c.useEffect)((function(){var t=function(){var t=(0,r.Z)(i().mark((function t(){var r,s;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n((0,o.AE)({show:"tv",id:e.id.id}));case 3:r=t.sent,s=r.payload.results.filter((function(e){return"YouTube"===e.site&&"Teaser"===e.type})),h(s),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.error("Eroare la \xeenc\u0103rcarea trailerelor:",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}();e&&t();var s=function(e){x.current&&!x.current.contains(e.target)&&p(!1)};return v&&document.addEventListener("mousedown",s),function(){return document.removeEventListener("mousedown",s)}}),[n,e,v]),!u.length)return null;return(0,d.jsxs)("div",{className:"trailers",children:[(0,d.jsx)("button",{onClick:function(){return p(!v)},type:"button",children:"Watch Later"}),v?(0,d.jsx)(d.Fragment,{children:u.map((function(e){return(0,d.jsxs)("div",{ref:x,className:"trailer-item",children:[(0,d.jsx)("h4",{children:e.name}),(0,d.jsx)("iframe",{width:"960",height:"509",src:"https://www.youtube.com/embed/".concat(e.key),title:e.name,allowFullScreen:!0})]},e.id)}))}):null]})},A=function(){var e,n,t=(0,l.I0)(),a=(0,p.s0)(),o=(0,c.useState)([]),u=(0,s.Z)(o,2),h=u[0],f=u[1],A=(0,c.useState)(null),j=(0,s.Z)(A,2),g=j[0],w=j[1],b=(0,c.useState)(0),y=(0,s.Z)(b,2),N=y[0],k=y[1];return(0,c.useEffect)((function(){var e=function(){var e=(0,r.Z)(i().mark((function e(){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t((0,m.nD)());case 2:null!==(r=e.sent)&&void 0!==r&&null!==(n=r.payload)&&void 0!==n&&n.length&&(f(r.payload.filter((function(e){return e.backdrop_path}))),w(r.payload[0]));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[t]),(0,c.useEffect)((function(){if(h.length){var e=setInterval((function(){k((function(e){var n=(e+1)%h.length;return w(h[n]),n}))}),8e3);return function(){return clearInterval(e)}}}),[h]),console.log(N),(0,d.jsx)("section",{className:"mainPosterSection",children:g?(0,d.jsxs)("div",{className:"imageWrapper",children:[(0,d.jsx)("img",{className:"mainImgCover",src:"https://image.tmdb.org/t/p/w1920_and_h800_multi_faces"+g.backdrop_path,alt:g.name}),(0,d.jsxs)("div",{className:"movieInfos",children:[(0,d.jsxs)("div",{className:"movieButtons",children:[(0,d.jsx)("button",{type:"button",onClick:function(){return a("/login")},children:"Watch now"}),(0,d.jsx)(x,{id:g})]}),(0,d.jsxs)("div",{className:"infos",children:[(0,d.jsx)("h1",{className:"movieTitle",children:g.name}),(0,d.jsxs)("div",{className:"gen_rating_time",children:[(0,d.jsx)("ul",{className:"movieGen",children:g.genres.slice(0,2).map((function(e){return(0,d.jsx)("li",{children:e.name},e.id)}))}),(0,d.jsxs)("span",{className:"rating",children:[(0,d.jsx)("img",{src:v,alt:"star"}),null===(e=g.vote_average)||void 0===e?void 0:e.toFixed(1)]}),(0,d.jsxs)("span",{children:[(0,d.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFHSURBVHgBnVSBccIwDLR7DJBuYCZoNqg7AWzQFboBdIN0gqYbMEI7QbMB7gRkA/cFEjzG5Dh09ydZ79h6WeBcYTnn1k0Y+FjLz0A08I2uR6BFLlGOTfgIfuBvvPejRzLTxh+gBwKwqhwk/LfGzM8frtw6ZVV+VqyfgAUQXd2E3wIXfSyl3Wt7ae9eDfFjLZ7iEL/IScceobA3uJ14fclf+K3EwIq4IPKMs++52YH6YGuBbJ4TZ+MSzsTh1DXFS7tFBtOGT6tiLhIncWBp8hKvdNNCYdUxtwSeqxXB9/lgG7khn6zVnHGRuGAV8Rx1qr3DYySQH+4w/gPJF5+AL2DQfUEIPkg29LJB1xt3mmLjkvyupHrNVaV1E9JM9idJ2+kjnDebbkhaSaLYqvzTeFTZ40VFGjdFtc21uBiF4HWia/89NxsqW/8DjDM4ZFomn78AAAAASUVORK5CYII=",alt:"calendar"}),new Date(g.first_air_date).getFullYear()]})]}),(0,d.jsx)("p",{className:"movieOverview",children:g.overview}),(0,d.jsxs)("ul",{className:"movieSeasons",children:[null===(n=g.seasons)||void 0===n?void 0:n.slice(0,3).map((function(e){return(0,d.jsx)("li",{children:e.name},e.id)})),g.seasons.length>3?(0,d.jsx)("li",{className:"moSeasonsBtn",children:"More Seasons"}):null]})]})]})]}):(0,d.jsx)("div",{className:"imageWrapper"})})},j=t(5080),g=function(){var e=(0,l.I0)(),n=(0,c.useState)([]),t=(0,s.Z)(n,2),a=t[0],m=t[1],v=(0,c.useState)([]),p=(0,s.Z)(v,2),x=p[0],g=p[1],w=(0,c.useState)([]),b=(0,s.Z)(w,2),y=b[0],N=b[1],k=(0,c.useState)([]),S=(0,s.Z)(k,2),B=S[0],E=S[1],L=(0,c.useRef)(null),I=(0,c.useState)(0),Z=(0,s.Z)(I,2),_=Z[0],W=Z[1];(0,c.useEffect)((function(){var n=function(){var n=(0,r.Z)(i().mark((function n(){var t,r;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e((0,o.Wp)(o.v0));case 3:t=n.sent,r=t.payload.results.filter((function(e){return e.poster_path})),m(r),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),console.error("Eroare la fetch:",n.t0);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(){return n.apply(this,arguments)}}(),t=function(){var n=(0,r.Z)(i().mark((function n(){var t;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e((0,o.JZ)());case 3:t=n.sent,g(t.payload.genres),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(){return n.apply(this,arguments)}}(),s=function(){var n=(0,r.Z)(i().mark((function n(){var t;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e((0,o.dq)());case 3:t=n.sent,N(t.payload.results),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(){return n.apply(this,arguments)}}(),a=function(){var n=(0,r.Z)(i().mark((function n(){var t,r;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e((0,o.go)());case 2:t=n.sent,r=t.payload.results.filter((function(e){return e.poster_path||e.backdrop_path})).sort((function(e,n){return n.vote_average-e.vote_average})).slice(0,3),E(r);case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),c=function(){var e=window.innerWidth;W(Math.floor(e))};return c(),window.addEventListener("resize",c),n(),t(),s(),a(),function(){return window.removeEventListener("resize",c)}}),[e]);var R=function(e){L.current&&L.current.scrollBy({left:"left"===e?-_:_,behavior:"smooth"})};return(0,d.jsxs)("section",{className:"mainSection",children:[(0,d.jsx)(A,{}),(0,d.jsxs)("div",{className:"genresSection",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h2",{className:"sectionTitle",children:"choose the type of film you liked"}),(0,d.jsx)("p",{className:"sectionText",children:"We present many films from various main categories, let's chooose and search film of you liked"})]}),(0,d.jsx)("ul",{className:"genresList",children:x.map((function(e){return(0,d.jsxs)("li",{children:[(0,d.jsx)("svg",{width:"29",height:"32",children:(0,d.jsx)("use",{xlinkHref:"".concat(f,"#").concat(e.name)})}),(0,d.jsxs)("span",{children:[e.name,(0,d.jsx)(u.rU,{to:"/genres/".concat(e.name,"/").concat(e.id),children:"View more"})]})]},e.id)}))})]}),(0,d.jsxs)("div",{className:"devicesSection",children:[(0,d.jsx)("h2",{className:"title",children:"Any time, Anywhere"}),(0,d.jsxs)("p",{className:"text",children:["Watch your favorite movie or TV series on all types of devices",(0,d.jsx)("br",{}),"Stream and enjoy your favorites on your device"]}),(0,d.jsxs)("ul",{className:"devicesList",children:[(0,d.jsxs)("li",{children:[(0,d.jsx)("svg",{width:"60",height:"60",children:(0,d.jsx)("use",{xlinkHref:"".concat(f,"#TV")})}),"TV"]}),(0,d.jsxs)("li",{children:[(0,d.jsx)("svg",{width:"60",height:"60",children:(0,d.jsx)("use",{xlinkHref:"".concat(f,"#laptop")})}),"Laptop & Desktop"]}),(0,d.jsxs)("li",{children:[(0,d.jsx)("svg",{width:"60",height:"60",children:(0,d.jsx)("use",{xlinkHref:"".concat(f,"#mobil")})}),"Tablet & Mobil"]})]})]}),(0,d.jsxs)("div",{className:"popularCelebritiesSection",children:[(0,d.jsx)("h2",{children:"Most popular celebrities"}),(0,d.jsxs)("div",{className:"moveBtn",children:[(0,d.jsx)("button",{type:"button",onClick:function(){return R("left")},children:"\u2039"}),(0,d.jsx)("button",{type:"button",onClick:function(){return R("right")},children:"\u203a"})]}),(0,d.jsx)("ul",{className:"actorsList",ref:L,children:y.map((function(e){return(0,d.jsxs)("li",{children:[(0,d.jsx)("img",{src:e.profile_path?o.yA+e.profile_path:j,alt:e.name}),(0,d.jsx)("h3",{children:e.name}),(0,d.jsx)("p",{children:e.known_for_department})]},e.id)}))})]}),(0,d.jsxs)("div",{className:"trendingSection",children:[(0,d.jsx)("h2",{children:"Top 3 the most wanted movies this week"}),(0,d.jsx)("ul",{className:"trendingList",children:B.map((function(e){return(0,d.jsxs)("li",{className:"recentMovie",to:"/movies/".concat(e.id),children:[(0,d.jsxs)("svg",{viewBox:"0 0 300 150",className:"titleArc",children:[(0,d.jsx)("defs",{children:(0,d.jsx)("path",{id:"arcPath-".concat(e.id),d:"M 20 130 A 130 130 0 0 1 280 130"})}),(0,d.jsx)("text",{fill:"white",fontSize:"16",fontWeight:"bold",children:(0,d.jsx)("textPath",{href:"#arcPath-".concat(e.id),startOffset:"50%",textAnchor:"middle",children:e.title||e.name})})]}),(0,d.jsx)("img",{src:o.yA+e.poster_path||e.backdrop_path,alt:e.title||e.name})]},e.id)}))})]}),(0,d.jsxs)("div",{className:"isPopularSection",children:[(0,d.jsx)("h2",{children:"What's Popular"}),(0,d.jsx)(h,{movies:a})]})]})}},5080:function(e,n,t){e.exports=t.p+"static/media/no_image.26d5e32e1f3f8947039a.jpg"},1346:function(e){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAOCAYAAAAmL5yKAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACwSURBVHgBnZLRDcIwDEQdxD8dISN0AzICI3QDGAEmYQU2oEyAmKBsABuEi2TALclF9KSnVvHFdpyIEMUYQ4J5lsLVgRXo5V+hso9fNSXfguTYmv+dzKg+mA4eoM15XTLjewRe13wl/xPclcO7YjupWNPw01GmbbbZZ3tL0wZnsvk6vZHRLTjn0vluUtZFPfkEqrWUxWKfI1jtFauGJQhq6u2gdMAnjQWWoAObSnz0Kl+YMw++eGGOtgAAAABJRU5ErkJggg=="}}]);
//# sourceMappingURL=430.d37dd35b.chunk.js.map