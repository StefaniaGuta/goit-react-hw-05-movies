"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[244],{244:function(e,n,t){t.r(n),t.d(n,{default:function(){return p}});var r=t(5861),a=t(9439),s=t(7757),c=t.n(s),i=t(2791),o=t(5453),l=t(6757),u=t(4420),A=t(184),d=function(e){var n=e.movies,t=(0,i.useRef)();return(0,i.useEffect)((function(){var e=function(){var e=t.current;e&&e.querySelectorAll("li").forEach((function(e){var n=e.getBoundingClientRect(),t=(n.left+n.width/2-window.innerWidth/2)/window.innerWidth;e.style.transform="\n          rotateY(".concat(40*t,"deg)\n          scale(").concat(1-.3*Math.abs(t),")\n        "),e.style.opacity="".concat(1-.6*Math.abs(t))}))},n=t.current;return n.addEventListener("scroll",e),e(),function(){return n.removeEventListener("scroll",e)}}),[]),(0,A.jsx)("ul",{ref:t,className:"movieList",children:n.map((function(e){return(0,A.jsx)("li",{children:(0,A.jsx)("img",{className:"imgCover",src:o.yA+e.poster_path,alt:e.title||e.name})},e.id)}))})},m=t(7689),h=t(1346),f=function(e){var n=(0,u.I0)(),t=(0,i.useState)([]),s=(0,a.Z)(t,2),l=s[0],d=s[1],m=(0,i.useState)(null),h=(0,a.Z)(m,2),f=h[0],p=h[1],v=(0,i.useRef)(null);if((0,i.useEffect)((function(){var t=function(){var t=(0,r.Z)(c().mark((function t(){var r,a;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n((0,o.AE)({show:"tv",id:e.id.id}));case 3:r=t.sent,a=r.payload.results.filter((function(e){return"YouTube"===e.site&&"Teaser"===e.type})),d(a),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.error("Eroare la \xeenc\u0103rcarea trailerelor:",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}();e&&t();var a=function(e){v.current&&!v.current.contains(e.target)&&p(!1)};return f&&document.addEventListener("mousedown",a),function(){return document.removeEventListener("mousedown",a)}}),[n,e,f]),!l.length)return null;return(0,A.jsxs)("div",{className:"trailers",children:[(0,A.jsx)("button",{onClick:function(){return p(!f)},type:"button",children:"Watch Later"}),f?(0,A.jsx)(A.Fragment,{children:l.map((function(e){return(0,A.jsxs)("div",{ref:v,className:"trailer-item",children:[(0,A.jsx)("h4",{children:e.name}),(0,A.jsx)("iframe",{width:"960",height:"509",src:"https://www.youtube.com/embed/".concat(e.key),title:e.name,allowFullScreen:!0})]},e.id)}))}):null]})},p=function(){var e=(0,u.I0)(),n=(0,i.useState)([]),t=(0,a.Z)(n,2),s=t[0],p=t[1],v=(0,i.useState)(),x=(0,a.Z)(v,2),g=x[0],w=x[1],j=(0,i.useState)([]),B=(0,a.Z)(j,2),E=B[0],b=B[1],k=(0,i.useState)([]),N=(0,a.Z)(k,2),S=N[0],L=N[1],y=(0,m.s0)();return(0,i.useEffect)((function(){var n=function(){var n=(0,r.Z)(c().mark((function n(){var t,r,a;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e((0,o.dY)(o.v0));case 3:return t=n.sent,r=t.payload.results.filter((function(e){return e.poster_path})),p(r),n.next=8,e((0,l.k4)("194766"));case 8:a=n.sent,w(a.payload),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(0),console.error("Eroare la fetch:",n.t0);case 15:case"end":return n.stop()}}),n,null,[[0,12]])})));return function(){return n.apply(this,arguments)}}(),t=function(){var n=(0,r.Z)(c().mark((function n(){var t;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e((0,o.JZ)());case 3:t=n.sent,b(t.payload.genres),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(){return n.apply(this,arguments)}}(),a=function(){var n=(0,r.Z)(c().mark((function n(){var t;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e((0,o.dq)());case 3:t=n.sent,L(t.payload.results),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(){return n.apply(this,arguments)}}();n(),t(),a()}),[e]),(0,A.jsxs)("section",{className:"mainSection",children:[g?(0,A.jsxs)("div",{className:"imageWrapper",children:[(0,A.jsx)("img",{className:"mainImgCover",src:"https://image.tmdb.org/t/p/w1920_and_h800_multi_faces"+g.backdrop_path,alt:g.name}),(0,A.jsxs)("div",{className:"movieInfos",children:[(0,A.jsxs)("div",{className:"movieButtons",children:[(0,A.jsx)("button",{type:"button",onClick:function(){return y("/login")},children:"Watch now"}),(0,A.jsx)(f,{id:g})]}),(0,A.jsxs)("div",{children:[(0,A.jsx)("h1",{className:"movieTitle",children:g.name}),(0,A.jsxs)("div",{className:"gen_rating_time",children:[(0,A.jsx)("p",{className:"movieGen",children:g.genres[0].name}),(0,A.jsxs)("span",{className:"rating",children:[(0,A.jsx)("img",{src:h,alt:"star"}),g.vote_average.toFixed(1)]}),(0,A.jsxs)("span",{children:[(0,A.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFHSURBVHgBnVSBccIwDLR7DJBuYCZoNqg7AWzQFboBdIN0gqYbMEI7QbMB7gRkA/cFEjzG5Dh09ydZ79h6WeBcYTnn1k0Y+FjLz0A08I2uR6BFLlGOTfgIfuBvvPejRzLTxh+gBwKwqhwk/LfGzM8frtw6ZVV+VqyfgAUQXd2E3wIXfSyl3Wt7ae9eDfFjLZ7iEL/IScceobA3uJ14fclf+K3EwIq4IPKMs++52YH6YGuBbJ4TZ+MSzsTh1DXFS7tFBtOGT6tiLhIncWBp8hKvdNNCYdUxtwSeqxXB9/lgG7khn6zVnHGRuGAV8Rx1qr3DYySQH+4w/gPJF5+AL2DQfUEIPkg29LJB1xt3mmLjkvyupHrNVaV1E9JM9idJ2+kjnDebbkhaSaLYqvzTeFTZ40VFGjdFtc21uBiF4HWia/89NxsqW/8DjDM4ZFomn78AAAAASUVORK5CYII=",alt:"calendar"}),new Date(g.first_air_date).getFullYear()]})]}),(0,A.jsx)("p",{className:"movieOverview",children:g.overview}),(0,A.jsx)("ul",{className:"movieSeasons",children:g.seasons.map((function(e){return(0,A.jsx)("li",{children:e.name},e.id)}))})]})]})]}):(0,A.jsx)("p",{children:"no"}),(0,A.jsx)("ul",{className:"genresList",children:E.map((function(e){return(0,A.jsx)("li",{children:e.name},e.id)}))}),(0,A.jsx)("h2",{children:"Popular People"}),(0,A.jsx)("ul",{className:"actorsList",children:S.map((function(e){return(0,A.jsxs)("li",{children:[(0,A.jsx)("img",{src:o.yA+e.profile_path,alt:e.name}),e.name]},e.id)}))}),(0,A.jsx)("h2",{children:"What's Popular"}),(0,A.jsx)(d,{movies:s})]})}},1346:function(e){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAOCAYAAAAmL5yKAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACwSURBVHgBnZLRDcIwDEQdxD8dISN0AzICI3QDGAEmYQU2oEyAmKBsABuEi2TALclF9KSnVvHFdpyIEMUYQ4J5lsLVgRXo5V+hso9fNSXfguTYmv+dzKg+mA4eoM15XTLjewRe13wl/xPclcO7YjupWNPw01GmbbbZZ3tL0wZnsvk6vZHRLTjn0vluUtZFPfkEqrWUxWKfI1jtFauGJQhq6u2gdMAnjQWWoAObSnz0Kl+YMw++eGGOtgAAAABJRU5ErkJggg=="}}]);
//# sourceMappingURL=244.97485c69.chunk.js.map