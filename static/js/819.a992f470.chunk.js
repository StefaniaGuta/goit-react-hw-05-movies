"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[819],{8819:function(e,t,s){s.r(t),s.d(t,{default:function(){return f}});var n=s(7762),r=s(5861),a=s(9439),i=s(8311),c=s.n(i),l=s(2791),o=s(7689),u=s(1087),d=s(5453),m=s(6757),h=s(4420),p=s(184),v=function(e){var t=e.setActiveTab,s=e.activeTab,n=(0,h.I0)(),i=(0,l.useState)([]),o=(0,a.Z)(i,2),v=o[0],x=o[1],f=(0,l.useState)([]),j=(0,a.Z)(f,2),N=j[0],_=j[1],w=function(){var e=(0,r.Z)(c().mark((function e(){var s;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n((0,d.iD)({id:"1038392"}));case 2:s=e.sent,x(s.payload.results),t("movies");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=(0,l.useCallback)((0,r.Z)(c().mark((function e(){var s,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n((0,m.l)({id:"71912"}));case 3:r=e.sent,_((null===(s=r.payload)||void 0===s?void 0:s.results)||[]),t("series"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Error fetching series recommendations",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),[n,t]);return(0,l.useEffect)((function(){b()}),[b]),(0,p.jsxs)("section",{className:"RecommendationSection",children:[(0,p.jsxs)("div",{className:"title_filters",children:[(0,p.jsx)("h2",{className:"sectionTitle",children:"Recommended"}),(0,p.jsx)("button",{type:"button",onClick:w,children:"Movies"}),(0,p.jsx)("button",{type:"button",onClick:b,children:"Series"})]}),(0,p.jsxs)("ul",{className:"recommendationList",children:["movies"===s&&v.filter((function(e){return e.poster_path})).map((function(e){return(0,p.jsxs)(u.rU,{className:"Item",to:"/movie/".concat(e.id),children:[(0,p.jsx)("img",{src:d.yA+e.poster_path,alt:e.title||e.name}),(0,p.jsx)("h2",{className:"movieTitle",children:e.title||e.name})]},e.id)})),"series"===s&&N.filter((function(e){return e.poster_path})).map((function(e){return(0,p.jsxs)(u.rU,{className:"Item",to:"/tv/".concat(e.id),children:[(0,p.jsx)("img",{src:d.yA+e.poster_path,alt:e.title||e.name}),(0,p.jsx)("div",{className:"titleSection",children:(0,p.jsx)("h2",{className:"movieTitle",children:e.title||e.name})})]},e.id)}))]})]})},x=s(349),f=function(){var e=(0,l.useState)([]),t=(0,a.Z)(e,2),s=t[0],i=t[1],f=(0,l.useState)([]),j=(0,a.Z)(f,2),N=j[0],_=j[1],w=(0,h.I0)(),b=(0,o.s0)(),k=(0,l.useState)(null),y=(0,a.Z)(k,2),g=y[0],T=y[1],R=(0,h.v9)((function(e){return null===e||void 0===e?void 0:e.movies.recentMovies.results}))||[];(0,l.useEffect)((function(){var e=function(){var e=(0,r.Z)(c().mark((function e(){var t,s,r,a,i,l,o;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w((0,d.I1)());case 3:t=e.sent,s=t.payload.results,r=[],a=(0,n.Z)(s),e.prev=7,a.s();case 9:if((i=a.n()).done){e.next=17;break}return l=i.value,e.next=13,w((0,d.TP)(l.id));case 13:o=e.sent,r.push(o.payload);case 15:e.next=9;break;case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(7),a.e(e.t0);case 22:return e.prev=22,a.f(),e.finish(22);case 25:_(r),e.next=31;break;case 28:e.prev=28,e.t1=e.catch(0),console.log(e.t1);case 31:case"end":return e.stop()}}),e,null,[[0,28],[7,19,22,25]])})));return function(){return e.apply(this,arguments)}}();e()}),[w]);var S=function(e){if(!e||e<=0)return"N/A";var t=Math.floor(e/60),s=e%60;return"".concat(t,"h ").concat(s,"m")};(0,l.useEffect)((function(){var e=function(){var e=(0,r.Z)(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w((0,m.nD)());case 2:t=e.sent,i(t.payload);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[w]);var C=function(e){b("/movies/".concat(e),{state:{type:e}})};console.log(g);return(0,p.jsxs)("section",{className:"homeSection",children:[(0,p.jsxs)("div",{className:"recentlyUpdatesContainer",children:[(0,p.jsx)("h2",{className:"sectionTitle",children:"Recently Updated"}),(0,p.jsxs)("ul",{className:"recentryMoviesList",children:[R?R.filter((function(e){return e.poster_path})).sort((function(e,t){return t.release_date-e.release_date})).slice(0,5).map((function(e){return(0,p.jsx)(p.Fragment,{children:(0,p.jsx)("li",{children:(0,p.jsxs)(u.rU,{className:"recentMovie",to:"/movie/".concat(e.id),children:[(0,p.jsx)("img",{src:d.yA+e.poster_path,alt:e.title||e.name}),(0,p.jsx)("div",{children:(0,p.jsx)("h2",{className:"movieTitle",children:e.title||e.name})})]})},e.id)})})):(0,p.jsx)("p",{children:"no"}),(0,p.jsx)("button",{onClick:function(){return C("popular")},className:"recentMovieButton",type:"button",children:"\u27f6"})]})]}),(0,p.jsxs)("div",{className:"newReleasedContainer",children:[(0,p.jsxs)("span",{className:"title_viewAll",children:[(0,p.jsx)("h2",{className:"sectionTitle",children:"New Release - Movies"}),(0,p.jsx)("button",{onClick:function(){return C("newReleaseMovie")},children:"View all \u27f6"})]}),(0,p.jsx)("ul",{className:"newReleasedList",children:N.filter((function(e){return e.poster_path})).sort((function(e,t){return t.vote_average-e.vote_average})).slice(0,4).map((function(e,t){return(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)(u.rU,{className:"newReleasedItem",to:"/movie/".concat(e.id),children:[(0,p.jsx)("img",{src:d.yA+e.poster_path,alt:e.title||e.name}),(0,p.jsxs)("div",{className:"runtime_vote",children:[(0,p.jsxs)("span",{style:{alignItems:"end"},children:[(0,p.jsx)("svg",{children:(0,p.jsx)("use",{xlinkHref:"".concat(x.Z,"#clock")})}),S(e.runtime)]}),(0,p.jsxs)("span",{style:{alignItems:"center"},children:[(0,p.jsx)("svg",{children:(0,p.jsx)("use",{xlinkHref:"".concat(x.Z,"#star")})}),e.vote_average.toFixed(1)]})]}),(0,p.jsxs)("div",{className:"titleSection",children:[(0,p.jsx)("h2",{className:"movieTitle",children:e.title||e.name}),(0,p.jsx)("ul",{children:e.genres.slice(0,1).map((function(e){return(0,p.jsx)("li",{className:"movieGenre",children:e.name},e.id)}))})]})]},t)})}))})]}),(0,p.jsxs)("div",{className:"newReleasedContainer",children:[(0,p.jsxs)("span",{className:"title_viewAll",children:[(0,p.jsx)("h2",{className:"sectionTitle",children:"New Release - Series"}),(0,p.jsx)("button",{onClick:function(){var e;b("/series/".concat(e="newReleaseSeries"),{state:{seriesType:e}})},children:"View all \u27f6"})]}),(0,p.jsx)("ul",{className:"newReleasedList",children:s.filter((function(e){return e.poster_path})).sort((function(e,t){return t.popularity-e.popularity})).slice(0,4).map((function(e){return(0,p.jsx)(p.Fragment,{children:(0,p.jsx)("li",{children:(0,p.jsxs)(u.rU,{className:"newReleasedItem",to:"/tv/".concat(e.id),children:[(0,p.jsx)("img",{src:d.yA+e.poster_path,alt:e.title||e.name}),(0,p.jsxs)("span",{className:"epNumber",children:["Ep. ",e.last_episode_to_air.episode_number]}),(0,p.jsxs)("div",{className:"titleSection",children:[(0,p.jsx)("h2",{className:"movieTitle",children:e.title||e.name}),(0,p.jsxs)("p",{className:"seasonNumber",children:["Season ",e.last_episode_to_air.season_number]})]})]})},e.id)})}))})]}),(0,p.jsxs)("div",{className:"RecommendationContainer",children:[(0,p.jsx)("button",{onClick:function(){b("movies"===g?"/movies/moviesrecommended/1038392":"/series/recommendations/71912")},className:"viewAll",children:"View all \u27f6"}),(0,p.jsx)(v,{activeTab:g,setActiveTab:T})]})]})}}}]);
//# sourceMappingURL=819.a992f470.chunk.js.map