{"version":3,"file":"static/js/115.9cfe6a64.chunk.js","mappings":"+NAsEA,UAzDe,WAAO,IAADA,EAAAC,EACbC,GAAWC,EAAAA,EAAAA,MACXC,EAAoB,OAARF,QAAQ,IAARA,OAAQ,EAARA,EAAUG,SAASC,MAAM,KACrCC,EAAmBH,EAAUA,EAAUI,OAAS,GAChDC,GAAmB,OAARP,QAAQ,IAARA,GAAe,QAAPF,EAARE,EAAUQ,aAAK,IAAAV,OAAP,EAARA,EAAiBW,OAAQJ,GAAoB,UACxDK,EAAa,OAARV,QAAQ,IAARA,GAAe,QAAPD,EAARC,EAAUQ,aAAK,IAAAT,OAAP,EAARA,EAAiBY,QAEtBC,EACS,YAAbL,EAAyBM,EAAAA,GACZ,eAAbN,EAA4BO,EAAAA,GACf,oBAAbP,EAAiCQ,EAAAA,GACpB,kBAAbR,EAA+BS,EAAAA,GAClB,qBAAbT,EAAkCU,EAAAA,GACrB,mBAAbV,EAAgCW,EAAAA,GACnB,mBAAbX,EAAgCY,EAAAA,GACnB,sBAAbZ,EAAmCa,EAAAA,GACnCN,EAAAA,GAIFO,GAAoDC,EAAAA,EAAAA,GAAkBV,EAAaL,EAAUG,GAA/Ea,EAAMF,EAAZG,KAAcC,EAAUJ,EAAVI,WAAYC,EAAIL,EAAJK,KAAMC,EAAON,EAAPM,QAGxC,OAFFC,QAAQC,IAAI,KAAMnB,IAGdoB,EAAAA,EAAAA,MAAAC,EAAAA,SAAA,CAAAC,SAAA,EACAF,EAAAA,EAAAA,MAAA,WAASG,UAAU,OAAMD,SAAA,EACvBF,EAAAA,EAAAA,MAAA,MAAIG,UAAU,eAAcD,SAAA,CAAC,YAAUzB,EAAS2B,kBAChDC,EAAAA,EAAAA,KAAA,MAAIF,UAAU,WAAUD,SACrBT,EAAOa,KAAI,SAACC,GAAK,OACZP,EAAAA,EAAAA,MAACQ,EAAAA,GAAI,CACHC,GAAE,UAAAC,OAAYH,EAAM3B,IAEpBuB,UAAU,WAAUD,SAAA,EAEpBG,EAAAA,EAAAA,KAAA,OACEM,IAAKC,EAAAA,GAAYL,EAAMM,YACvBC,IAAKP,EAAMQ,OAASR,EAAMS,QAE5BX,EAAAA,EAAAA,KAAA,MAAAH,SAAKK,EAAMQ,OAASR,EAAMS,SAPrBT,EAAM3B,GAQN,SAOhBe,EAAa,GACZU,EAAAA,EAAAA,KAACY,EAAAA,EAAU,CACTC,YAAatB,EACbD,WAAYA,EACZwB,aAActB,IAEV,OAGZ,C,mECnEA,EAA6B,+BAA7B,EAAqE,2B,SCoErE,EAlEmB,SAAHuB,GAAmD,IAA7CF,EAAWE,EAAXF,YAAavB,EAAUyB,EAAVzB,WAAYwB,EAAYC,EAAZD,aAmBvCE,EAhBiB,WACrB,IAAIC,EAAQC,KAAKC,IAAI,EAAGN,EAAcK,KAAKE,MAAMC,MAC7CC,EAAML,EAJW,EAIc,EAE/BK,EAAMhC,IACRgC,EAAMhC,EACN2B,EAAQC,KAAKC,IAAI,EAAGG,EARD,EAQwB,IAI7C,IADA,IAAIC,EAAQ,GACHC,EAAIP,EAAOO,GAAKF,EAAKE,IAC5BD,EAAME,KAAKD,GAEb,OAAOD,CACT,CAEoBG,GAEpB,OACE/B,EAAAA,EAAAA,MAAA,OAAKG,UAAW6B,EAAkB9B,SAAA,EAChCG,EAAAA,EAAAA,KAAA,UACE4B,SAA0B,IAAhBf,EACVgB,QAAS,kBAAMf,EAAa,EAAE,EAACjB,SAChC,kBAIDG,EAAAA,EAAAA,KAAA,UACE4B,SAA0B,IAAhBf,EACVgB,QAAS,kBAAMf,EAAaD,EAAc,EAAE,EAAChB,SAC9C,gBAIAmB,EAAY,GAAK,IAAKhB,EAAAA,EAAAA,KAAA,QAAAH,SAAM,QAC5BmB,EAAYf,KAAI,SAAC6B,GAAG,OACnB9B,EAAAA,EAAAA,KAAA,UAEEF,UAAWgC,IAAQjB,EAAcc,EAAgB,GACjDE,QAAS,kBAAMf,EAAagB,EAAI,EAACjC,SAEhCiC,GAJIA,EAKE,IAEVd,EAAYA,EAAY7C,OAAS,GAAKmB,IAAcU,EAAAA,EAAAA,KAAA,QAAAH,SAAM,SAE3DG,EAAAA,EAAAA,KAAA,UACE4B,SAAUf,IAAgBvB,EAC1BuC,QAAS,kBAAMf,EAAaD,EAAc,EAAE,EAAChB,SAC9C,iBAIDG,EAAAA,EAAAA,KAAA,UACE4B,SAAUf,IAAgBvB,EAC1BuC,QAAS,kBAAMf,EAAaxB,EAAW,EAACO,SACzC,kBAKP,C,sHC9DaV,EAAoB,SAACV,GAA8C,IAAjCL,EAAQ2D,UAAA5D,OAAA,QAAA6D,IAAAD,UAAA,GAAAA,UAAA,GAAG,GAAIE,EAAKF,UAAA5D,OAAA,QAAA6D,IAAAD,UAAA,GAAAA,UAAA,GAAG,KAC9DG,GAAWC,EAAAA,EAAAA,MACjBC,GAAwBC,EAAAA,EAAAA,UAAS,GAAEC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAA5B7C,EAAI+C,EAAA,GAAE9C,EAAO8C,EAAA,GACpBE,GAAwBH,EAAAA,EAAAA,UAAS,IAAGI,GAAAF,EAAAA,EAAAA,GAAAC,EAAA,GAA7BnD,EAAIoD,EAAA,GAAEC,EAAOD,EAAA,GACpBE,GAAoCN,EAAAA,EAAAA,UAAS,GAAEO,GAAAL,EAAAA,EAAAA,GAAAI,EAAA,GAAxCrD,EAAUsD,EAAA,GAAEC,EAAaD,EAAA,GA0BhC,OAxBAE,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAS,eAAAhC,GAAAiC,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAC,IAAA,IAAAC,EAAAC,EAAA,OAAAH,IAAAA,MAAA,SAAAI,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,UAAAF,EAAAC,KAAA,GAIVrB,EAAM,CAADoB,EAAAE,KAAA,eAAAF,EAAAE,KAAA,EACUrB,EAASzD,EAAY,CAAEF,GAAI0D,EAAO1C,KAAAA,EAAMnB,SAAAA,KAAa,KAAD,EAArEgF,EAAQC,EAAAG,KAAAH,EAAAE,KAAA,uBAAAF,EAAAE,KAAA,EAESrB,EAASzD,EAAY,CAAEc,KAAAA,EAAMnB,SAAAA,KAAa,KAAD,EAA1DgF,EAAQC,EAAAG,KAAA,QAGE,QAAZL,EAAIC,SAAQ,IAAAD,GAARA,EAAUM,UACZf,EAAQU,EAASK,QAAQC,SAAW,IACpCb,EAAcO,EAASK,QAAQE,aAAe,IAC/CN,EAAAE,KAAA,iBAAAF,EAAAC,KAAA,GAAAD,EAAAO,GAAAP,EAAA,SAED5D,QAAQoE,MAAM,iCAAgCR,EAAAO,IAAS,yBAAAP,EAAAS,OAAA,GAAAZ,EAAA,mBAE1D,kBAjBc,OAAAnC,EAAAgD,MAAA,KAAAhC,UAAA,KAmBfgB,GAEF,GAAG,CAACb,EAAUzD,EAAac,EAAMnB,EAAU6D,IAEpC,CAAE5C,KAAAA,EAAMC,WAAAA,EAAYC,KAAAA,EAAMC,QAAAA,EACnC,C","sources":["components/Movies/Movies.jsx","webpack://react-homework-template/./src/components/Pagination/Pagination.module.css?4da5","components/Pagination/Pagination.jsx","components/Pagination/usePaginatedFetch.js"],"sourcesContent":["import React from \"react\";\nimport { useLocation, Link } from \"react-router-dom\";\nimport { usePaginatedFetch } from \"../Pagination/usePaginatedFetch\";\nimport { getAll, getTrendingAll, IMAGE_URL, theNewRealedMovie,\n  getPopularMovies,\n  getNowPlayingMovies,\n  getUpcomingMovies,\n  getTopRatedMovies,\n  moviesRecommendations\n } from \"../../redux/movies/getAPI\";\nimport Pagination from \"components/Pagination/Pagination\";\nimport \"../pages/MovieByGenPage/MovieByGenPage.css\";\n\nconst Movies = () => {\n  const location = useLocation();\n  const pathParts = location?.pathname.split('/');\n  const categoryFromPath = pathParts[pathParts.length - 1]; \n  const category = location?.state?.type || categoryFromPath || \"popular\";\n  const id = location?.state?.movieId;\n\n  const fetchAction =\n    category === \"popular\" ? getTrendingAll :\n    category === \"inTrending\" ? getAll :\n    category === \"newReleaseMovie\" ? theNewRealedMovie :\n    category === \"popularMovies\" ? getPopularMovies :\n    category === \"nowPlayingMovies\" ? getNowPlayingMovies :\n    category === \"upcomingMovies\" ? getUpcomingMovies :\n    category === \"topRatedMovies\" ? getTopRatedMovies :\n    category === \"moviesrecommended\" ? moviesRecommendations :\n    getAll;\n\n  //const extraParam = category === \"moviesrecommended\" ? id : undefined;\n\n  const { data: movies, totalPages, page, setPage } = usePaginatedFetch(fetchAction, category, id);\nconsole.log(\"id\", id)\n//console.log(\"extraParam\", extraParam)\n  return (\n    <>\n    <section className=\"page\">\n      <h1 className=\"sectionTitle\">Movies - {category.toLowerCase()}</h1>\n      <ul className=\"pageList\">\n        {movies.map((movie) => (\n              <Link \n                to={`/movie/${movie.id}`} \n                key={movie.id}\n                className=\"pageItem\"\n              >\n                <img\n                  src={IMAGE_URL + movie.poster_path}\n                  alt={movie.title || movie.name}\n                  />\n                <h2>{movie.title || movie.name}</h2>\n              </Link>\n          )\n        )}\n      </ul>\n\n      \n    </section>\n    {totalPages > 1 ? (\n      <Pagination\n        currentPage={page}\n        totalPages={totalPages}\n        onPageChange={setPage}\n        />\n        ) : null}\n        </>\n      );\n};\n\nexport default Movies;\n","// extracted by mini-css-extract-plugin\nexport default {\"pagination\":\"Pagination_pagination__vcNDC\",\"active\":\"Pagination_active__DDld0\"};","import React from \"react\";\nimport styles from \"./Pagination.module.css\";\n\nconst Pagination = ({ currentPage, totalPages, onPageChange }) => {\n  const maxPagesToShow = 5;\n\n  const getPageNumbers = () => {\n    let start = Math.max(1, currentPage - Math.floor(maxPagesToShow / 2));\n    let end = start + maxPagesToShow - 1;\n\n    if (end > totalPages) {\n      end = totalPages;\n      start = Math.max(1, end - maxPagesToShow + 1);\n    }\n\n    let pages = [];\n    for (let i = start; i <= end; i++) {\n      pages.push(i);\n    }\n    return pages;\n  };\n\n  const pageNumbers = getPageNumbers();\n\n  return (\n    <div className={styles.pagination}>\n      <button\n        disabled={currentPage === 1}\n        onClick={() => onPageChange(1)}\n      >\n        ⏮ First\n      </button>\n\n      <button\n        disabled={currentPage === 1}\n        onClick={() => onPageChange(currentPage - 1)}\n      >\n        ◀ Prev\n      </button>\n\n      {pageNumbers[0] > 1 && <span>...</span>}\n      {pageNumbers.map((num) => (\n        <button \n          key={num}\n          className={num === currentPage ? styles.active : \"\"}\n          onClick={() => onPageChange(num)}\n        >\n          {num}\n        </button>\n      ))}\n      {pageNumbers[pageNumbers.length - 1] < totalPages && <span>...</span>}\n\n      <button\n        disabled={currentPage === totalPages}\n        onClick={() => onPageChange(currentPage + 1)}\n      >\n        Next ▶\n      </button>\n\n      <button\n        disabled={currentPage === totalPages}\n        onClick={() => onPageChange(totalPages)}\n      >\n        Last ⏭\n      </button>\n    </div>\n  );\n};\n\nexport default Pagination;\n","import { useState, useEffect } from \"react\";\nimport { useDispatch } from \"react-redux\";\n\n\n\nexport const usePaginatedFetch = (fetchAction, category = \"\", param = null) => {\n  const dispatch = useDispatch();\n  const [page, setPage] = useState(1);\n  const [data, setData] = useState([]);\n  const [totalPages, setTotalPages] = useState(1);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        let response;\n\n        if (param) {\n          response = await dispatch(fetchAction({ id: param, page, category }));\n        } else {\n          response = await dispatch(fetchAction({ page, category }));\n        }\n\n        if (response?.payload) {\n          setData(response.payload.results || []);\n          setTotalPages(response.payload.total_pages || 1);\n        }\n      } catch (error) {\n        console.error(\"Error fetching paginated data:\", error);\n      }\n    };\n\n    fetchData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [dispatch, fetchAction, page, category, param, ]);\n\n  return { data, totalPages, page, setPage };\n};\n"],"names":["_location$state","_location$state2","location","useLocation","pathParts","pathname","split","categoryFromPath","length","category","state","type","id","movieId","fetchAction","getTrendingAll","getAll","theNewRealedMovie","getPopularMovies","getNowPlayingMovies","getUpcomingMovies","getTopRatedMovies","moviesRecommendations","_usePaginatedFetch","usePaginatedFetch","movies","data","totalPages","page","setPage","console","log","_jsxs","_Fragment","children","className","toLowerCase","_jsx","map","movie","Link","to","concat","src","IMAGE_URL","poster_path","alt","title","name","Pagination","currentPage","onPageChange","_ref","pageNumbers","start","Math","max","floor","maxPagesToShow","end","pages","i","push","getPageNumbers","styles","disabled","onClick","num","arguments","undefined","param","dispatch","useDispatch","_useState","useState","_useState2","_slicedToArray","_useState3","_useState4","setData","_useState5","_useState6","setTotalPages","useEffect","fetchData","_asyncToGenerator","_regeneratorRuntime","_callee","_response","response","_context","prev","next","sent","payload","results","total_pages","t0","error","stop","apply"],"sourceRoot":""}