"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[199],{320:function(e,t,s){s.d(t,{Z:function(){return h}});var n=s(5861),a=s(7757),i=s.n(a),r=s(7931),c=s(4420),l=s(349),o=s(7689),u=s(184),h=function(e){var t=e.item,s=(0,c.I0)(),a=(0,o.s0)(),h=t.seasons,d=function(){var e=(0,n.Z)(i().mark((function e(n){var a,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=h?"tv":"movie",e.prev=1,e.next=4,s((0,r.Ht)({movieId:t.id,mediaType:a,type:n,title:t.title||t.name,posterPath:t.poster_path,backdropPath:t.backdrop_path}));case 4:return c=e.sent,e.abrupt("return",c.payload);case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return(0,u.jsxs)("section",{className:"addToListSection",onClick:function(){a(h?"/serie/".concat(t.id):"/movie/".concat(t.id))},children:[(0,u.jsx)("span",{title:"add to favorite list",children:(0,u.jsx)("svg",{width:"28",height:"27",className:"listSvg",onClick:function(){return d("favorite")},children:(0,u.jsx)("use",{xlinkHref:"".concat(l.Z,"#heart")})})}),(0,u.jsx)("span",{title:"add to watched list",children:(0,u.jsx)("svg",{width:"21",height:"21",onClick:function(){return d("watched")},className:"listSvg",children:(0,u.jsx)("use",{xlinkHref:"".concat(l.Z,"#eye")})})}),(0,u.jsx)("span",{title:"add to watch list",children:(0,u.jsx)("svg",{width:"28",height:"27",onClick:function(){return d("watchlist")},className:"listSvg",children:(0,u.jsx)("use",{xlinkHref:"".concat(l.Z,"#favorite")})})})]})}},9660:function(e,t,s){s.d(t,{Z:function(){return a}});s(2791);var n=s(184),a=function(e){var t=(e.voteAverage||0)/10*100;return(0,n.jsxs)("div",{className:"star-rating",children:[(0,n.jsxs)("div",{className:"stars-filled",style:{width:"".concat(t,"%")},children:[(0,n.jsx)("span",{children:"\u2605"}),(0,n.jsx)("span",{children:"\u2605"}),(0,n.jsx)("span",{children:"\u2605"}),(0,n.jsx)("span",{children:"\u2605"}),(0,n.jsx)("span",{children:"\u2605"})]}),(0,n.jsxs)("div",{className:"stars-empty",children:[(0,n.jsx)("span",{children:"\u2605"}),(0,n.jsx)("span",{children:"\u2605"}),(0,n.jsx)("span",{children:"\u2605"}),(0,n.jsx)("span",{children:"\u2605"}),(0,n.jsx)("span",{children:"\u2605"})]})]})}},4199:function(e,t,s){s.r(t),s.d(t,{default:function(){return g}});var n=s(5861),a=s(9439),i=s(7757),r=s.n(i),c=s(7931),l=s(5453),o=s(2791),u=s(4420),h=s(349),d=s(6122),p=s(9660),m=s(320),v=s(1413),x=s(5705),f=s(184),j=function(e){var t=e.setOpen,s=e.open,i=(0,o.useState)({name:"",description:""}),c=(0,a.Z)(i,2),l=c[0],u=c[1],h=function(){var e=(0,n.Z)(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{u({name:"",description:""})}catch(t){console.log(t)}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,f.jsx)("section",{className:"createWatchlistSection",children:(0,f.jsx)(x.J9,{initialValues:{name:"",description:""},onSubmit:h,children:(0,f.jsxs)(x.l0,{className:"createWatchlistForm",children:[(0,f.jsx)("h1",{className:"createWatchlistFormTitle",children:"Create new watchlist"}),(0,f.jsxs)("label",{className:"createWatchlistFormLabel",children:["Name",(0,f.jsx)(x.gN,{id:"name",type:"text",className:"inputWatchlistName",required:!0,value:l.name,onChange:function(e){return u((0,v.Z)((0,v.Z)({},l),{},{name:e.target.value}))}})]}),(0,f.jsxs)("label",{className:"createWatchlistFormLabel",children:["Description",(0,f.jsx)(x.gN,{id:"description",type:"text",className:"inputWatchlistDescription",value:l.description,onChange:function(e){return u((0,v.Z)((0,v.Z)({},l),{},{description:e.target.value}))},required:!0})]}),(0,f.jsxs)("div",{className:"createWatchlistFormBtnContainer",children:[(0,f.jsx)("button",{className:"createWatchlistFormCancelBtn",onClick:function(){return t(!s)},children:"Cancel"}),(0,f.jsx)("button",{className:"createWatchlistFormSaveBtn",type:"submit",children:"Save"})]})]})})})},g=function(){var e=(0,u.I0)(),t=(0,o.useState)([]),s=(0,a.Z)(t,2),i=s[0],v=s[1],x=(0,u.v9)(d.G),g=(0,u.v9)((function(e){return null===e||void 0===e?void 0:e.series.series.slice(0,5)})),N=x.concat(g),w=(0,o.useState)(null),k=(0,a.Z)(w,2),y=k[0],b=k[1];(0,o.useEffect)((function(){var t=function(){var t=(0,n.Z)(r().mark((function t(){var s;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e((0,c.gp)());case 2:s=t.sent,v(s.payload.movies);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[e]);var P=function(){var t=(0,n.Z)(r().mark((function t(s){var n,a;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e((0,c.Y3)({movieId:s.movieId,mediaType:s.mediaType,type:s.type}));case 3:return n=t.sent,a=i.filter((function(e){return e._id!==s._id})),v(a),t.abrupt("return",n.payload);case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}(),Z=function(e){return"movie"===e.media_type?new Date(e.release_date).getFullYear():new Date(e.first_air_date).getFullYear()};return(0,f.jsxs)("section",{className:"listPageSection",children:[(0,f.jsxs)("h1",{className:"listPageTitle",children:["Welcome to ",(0,f.jsx)("span",{children:"Watchlists"})]}),i&&i.length>0?(0,f.jsx)("ul",{className:"listPageListItems",children:i.map((function(e,t){return(0,f.jsxs)("li",{className:"listPageItem",children:[(0,f.jsxs)("button",{title:"detele",type:"button",onClick:function(){return P(e)},className:"listPageDeleteBtn",children:[(0,f.jsx)("svg",{className:"listPageBinClose",width:"20",height:"20",children:(0,f.jsx)("use",{xlinkHref:"".concat(h.Z,"#delete")})}),(0,f.jsx)("svg",{className:"listPageBinOpen",width:"20",height:"20",children:(0,f.jsx)("use",{xlinkHref:"".concat(h.Z,"#deleteOn")})})]}),(0,f.jsx)("img",{src:l.yA+e.backdropPath||e.posterPatch,alt:e.title}),(0,f.jsx)("h2",{className:"listPageMovieTitle",children:e.title})]},t)}))}):(0,f.jsxs)("div",{children:[(0,f.jsx)("div",{className:"listPageTitleDescription",children:(0,f.jsxs)("span",{className:"listPageDescription",children:["Browse movies, add them to watchlists and share them with friends. ",(0,f.jsx)("br",{}),(0,f.jsxs)("p",{className:"secondRowDescription",children:["Just click the",(0,f.jsx)("svg",{width:"20",height:"26",className:"listPageSvg",children:(0,f.jsx)("use",{xlinkHref:"".concat(h.Z,"#favorite")})}),"to add, the poster to see more details,",(0,f.jsx)("svg",{width:"20",height:"18",className:"listPageSvg",children:(0,f.jsx)("use",{xlinkHref:"".concat(h.Z,"#eye")})}),"to mark as watched or hit the ",(0,f.jsx)("svg",{width:"30",height:"30",className:"listPageSvg",children:(0,f.jsx)("use",{xlinkHref:"".concat(h.Z,"#heart")})}),"to mark your favorites."]}),"Also, if you want your own personalized list, simply click the",(0,f.jsx)("button",{type:"button",className:"createWatchlistBtn",onClick:function(){return b(!y)},children:"+ Create watchlist"}),"button to create one and start tracking your favorite movies and series."]})}),y?(0,f.jsx)(j,{setOpen:b,open:y}):null,(0,f.jsx)("h2",{className:"listPageSubtitle",children:"Popular movies right now"}),(0,f.jsx)("ul",{className:"listPageListItems",children:N.map((function(e,t){return(0,f.jsxs)("li",{className:"listPageItem",children:[(0,f.jsx)(m.Z,{item:e}),(0,f.jsx)("img",{src:l.yA+e.backdrop_path||e.poster_path,alt:e.title||e.name}),(0,f.jsx)(p.Z,{voteAverage:e.vote_average}),(0,f.jsx)("h2",{className:"listPageMovieTitle",children:e.title||e.name}),(0,f.jsxs)("p",{className:"itemYear",children:["(",Z(e),")"]})]},t)}))})]})]})}},6122:function(e,t,s){s.d(t,{G:function(){return i},V:function(){return a}});var n=s(3553),a=function(e){var t,s,n;return null!==(t=null===(s=e.movies)||void 0===s||null===(n=s.recentMovies)||void 0===n?void 0:n.results)&&void 0!==t?t:[]},i=(0,n.P1)([a],(function(e){return e.slice(0,5)}))}}]);
//# sourceMappingURL=199.02943da5.chunk.js.map