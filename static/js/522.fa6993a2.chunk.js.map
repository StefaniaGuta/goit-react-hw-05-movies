{"version":3,"file":"static/js/522.fa6993a2.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/Pagination/Pagination.module.css?4da5","components/Pagination/Pagination.jsx","components/Pagination/usePaginatedFetch.js","components/Series/Series.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"pagination\":\"Pagination_pagination__vcNDC\",\"active\":\"Pagination_active__DDld0\"};","import React from \"react\";\nimport styles from \"./Pagination.module.css\";\n\nconst Pagination = ({ currentPage, totalPages, onPageChange }) => {\n  const maxPagesToShow = 5;\n\n  const getPageNumbers = () => {\n    let start = Math.max(1, currentPage - Math.floor(maxPagesToShow / 2));\n    let end = start + maxPagesToShow - 1;\n\n    if (end > totalPages) {\n      end = totalPages;\n      start = Math.max(1, end - maxPagesToShow + 1);\n    }\n\n    let pages = [];\n    for (let i = start; i <= end; i++) {\n      pages.push(i);\n    }\n    return pages;\n  };\n\n  const pageNumbers = getPageNumbers();\n\n  return (\n    <div className={styles.pagination}>\n      <button\n        disabled={currentPage === 1}\n        onClick={() => onPageChange(1)}\n      >\n        ⏮ First\n      </button>\n\n      <button\n        disabled={currentPage === 1}\n        onClick={() => onPageChange(currentPage - 1)}\n      >\n        ◀ Prev\n      </button>\n\n      {pageNumbers[0] > 1 && <span>...</span>}\n      {pageNumbers.map((num) => (\n        <button \n          key={num}\n          className={num === currentPage ? styles.active : \"\"}\n          onClick={() => onPageChange(num)}\n        >\n          {num}\n        </button>\n      ))}\n      {pageNumbers[pageNumbers.length - 1] < totalPages && <span>...</span>}\n\n      <button\n        disabled={currentPage === totalPages}\n        onClick={() => onPageChange(currentPage + 1)}\n      >\n        Next ▶\n      </button>\n\n      <button\n        disabled={currentPage === totalPages}\n        onClick={() => onPageChange(totalPages)}\n      >\n        Last ⏭\n      </button>\n    </div>\n  );\n};\n\nexport default Pagination;\n","import { useState, useEffect } from \"react\";\nimport { useDispatch } from \"react-redux\";\n\n\n\nexport const usePaginatedFetch = (fetchAction, category = \"\", param = null) => {\n  const dispatch = useDispatch();\n  const [page, setPage] = useState(1);\n  const [data, setData] = useState([]);\n  const [totalPages, setTotalPages] = useState(1);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        let response;\n\n        if (param) {\n          response = await dispatch(fetchAction({ id: param, page, category }));\n        } else {\n          response = await dispatch(fetchAction({ page, category }));\n        }\n\n        if (response?.payload) {\n          setData(response.payload.results || []);\n          setTotalPages(response.payload.total_pages || 1);\n        }\n      } catch (error) {\n        console.error(\"Error fetching paginated data:\", error);\n      }\n    };\n\n    fetchData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [dispatch, fetchAction, page, category, param, ]);\n\n  return { data, totalPages, page, setPage };\n};\n","import {\n  airingTodaySeries,\n  popularSeries,\n  onTvSeries, \n  topRatedSeries,\n  seriesRecommendations\n } from '../../redux/series/seriesApi';\nimport React from \"react\";\nimport {  Link, useParams } from \"react-router-dom\";\nimport { usePaginatedFetch } from \"../Pagination/usePaginatedFetch\";\nimport Pagination from \"components/Pagination/Pagination\";\nimport { IMAGE_URL } from \"../../redux/movies/getAPI\";\nimport './Series.css';\n\nconst Series = () => {\n  const param = useParams();\n  const id = param.id;\n  const type = param.type;\n  const category = type || \"popularSeries\";\n  \n  const fetchAction =\n    category === \"popularSeries\" ? popularSeries :\n    category === \"airingTodaySeries\" ? airingTodaySeries :\n    category === \"onTvSeries\" ? onTvSeries :\n    category === \"topRatedSeries\" ? topRatedSeries :\n    category === \"recommendations\" ? seriesRecommendations :\n    popularSeries;\n  \n  const { data: series, totalPages, page, setPage } = usePaginatedFetch(fetchAction, category, id);\n\nreturn (\n  <section className='seriesPage'> \n    <ul className='seriesPageList'>\n      {series.map((s, i) => (\n          <Link to={`/serie/${s.id}`} \n          key={i}\n          className=\"seriesPageItem\">\n            <img\n              src={IMAGE_URL + s.poster_path || s.backdrop_path}\n              alt={s.title || s.name}\n            />\n            <h2>{s.title || s.name}</h2>\n          </Link>\n        )\n      )}\n    </ul>\n  \n    <Pagination\n      currentPage={page}\n      totalPages={totalPages}\n      onPageChange={setPage}\n    />\n  \n  </section>\n)\n}\n\nexport default Series;"],"names":["_ref","currentPage","totalPages","onPageChange","pageNumbers","start","Math","max","floor","maxPagesToShow","end","pages","i","push","getPageNumbers","_jsxs","className","styles","children","_jsx","disabled","onClick","map","num","length","usePaginatedFetch","fetchAction","category","arguments","undefined","param","dispatch","useDispatch","_useState","useState","_useState2","_slicedToArray","page","setPage","_useState3","_useState4","data","setData","_useState5","_useState6","setTotalPages","useEffect","fetchData","_asyncToGenerator","_regeneratorRuntime","_callee","_response","response","_context","prev","next","id","sent","payload","results","total_pages","t0","console","error","stop","apply","useParams","type","popularSeries","airingTodaySeries","onTvSeries","topRatedSeries","seriesRecommendations","_usePaginatedFetch","series","s","Link","to","concat","src","IMAGE_URL","poster_path","backdrop_path","alt","title","name","Pagination"],"sourceRoot":""}