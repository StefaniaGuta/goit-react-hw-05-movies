"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[335],{4335:function(e,t,n){n.r(t),n.d(t,{default:function(){return g}});var a=n(2791),r=n(7689),s=n(1087),i=n(3433),o=n(5861),c=n(9439),l=n(7757),u=n.n(l),d=n(4420),h=n(5453),p=n(5235),f=n(184),g=function(){var e,t=(null===(e=(0,r.TH)().state)||void 0===e?void 0:e.type)||"popular",n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=(0,a.useState)([]),s=(0,c.Z)(r,2),l=s[0],h=s[1],p=(0,a.useState)(1),f=(0,c.Z)(p,2),g=f[0],v=f[1],m=(0,a.useState)(1),x=(0,c.Z)(m,2),j=x[0],P=x[1],k=(0,d.I0)();return(0,a.useEffect)((function(){var n=function(){var n=(0,o.Z)(u().mark((function n(){var a;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,k(e(j,t));case 3:a=n.sent,h(a.payload.results||[]),v(a.payload.total_pages||1),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),console.error("Error fetching paginated data:",n.t0);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(){return n.apply(this,arguments)}}();n()}),[k,j].concat((0,i.Z)(n))),{data:l,totalPages:g,page:j,setPage:P}}("popular"===t?h.Wp:"inTrending"===t?h.go:"newReleaseMovie"===t?h.I1:h.go,t),l=n.data,g=n.totalPages,v=n.page,m=n.setPage;return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("section",{className:"moviesPage",children:[(0,f.jsxs)("h1",{className:"sectionTitle",children:["Movies - ",t.toUpperCase()]}),(0,f.jsx)("ul",{className:"moviesList",children:l.map((function(e){return(0,f.jsx)("li",{className:"movieItem",children:(0,f.jsxs)(s.rU,{to:"/movies/".concat(e.id),children:[(0,f.jsx)("img",{src:h.yA+e.poster_path,alt:e.title||e.name}),(0,f.jsx)("h2",{children:e.title||e.name})]})},e.id)}))})]}),(0,f.jsx)(p.Z,{currentPage:v,totalPages:g,onPageChange:m})]})}},5235:function(e,t,n){n.d(t,{Z:function(){return i}});n(2791);var a="Pagination_pagination__vcNDC",r="Pagination_active__DDld0",s=n(184),i=function(e){var t=e.currentPage,n=e.totalPages,i=e.onPageChange,o=function(){var e=Math.max(1,t-Math.floor(2.5)),a=e+5-1;a>n&&(a=n,e=Math.max(1,a-5+1));for(var r=[],s=e;s<=a;s++)r.push(s);return r}();return(0,s.jsxs)("div",{className:a,children:[(0,s.jsx)("button",{disabled:1===t,onClick:function(){return i(1)},children:"\u23ee First"}),(0,s.jsx)("button",{disabled:1===t,onClick:function(){return i(t-1)},children:"\u25c0 Prev"}),o[0]>1&&(0,s.jsx)("span",{children:"..."}),o.map((function(e){return(0,s.jsx)("button",{className:e===t?r:"",onClick:function(){return i(e)},children:e},e)})),o[o.length-1]<n&&(0,s.jsx)("span",{children:"..."}),(0,s.jsx)("button",{disabled:t===n,onClick:function(){return i(t+1)},children:"Next \u25b6"}),(0,s.jsx)("button",{disabled:t===n,onClick:function(){return i(n)},children:"Last \u23ed"})]})}}}]);
//# sourceMappingURL=335.f453faf0.chunk.js.map